<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <menuitem id="menu_product_management" name="Product Management" sequence="0"/>

    <!-- Location View -->
    <record id="view_location_tree" model="ir.ui.view">
        <field name="name">stock.location.tree</field>
        <field name="model">stock.location</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="complete_name"/>
            </tree>
        </field>
    </record>
    <record id="view_location_form" model="ir.ui.view">
        <field name="name">stock.location.form</field>
        <field name="model">stock.location</field>
        <field name="arch" type="xml">
            <form string="Location">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="complete_name"/>
                    </group>
                    <notebook>
                        <page string="Floors">
                            <field name="floor_ids" widget="one2many" context="{'default_location_id': active_id}">
                                <tree>
                                    <field name="name"/>
                                    <field name="location_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <record id="action_product_location" model="ir.actions.act_window">
        <field name="name">Locations</field>
        <field name="res_model">stock.location</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_location_tree"/>
    </record>
    <menuitem id="menu_product_locations" name="Locations" parent="menu_product_management" sequence="1" action="action_product_location"/>

    <!-- Floor View -->
    <record id="view_floor_tree" model="ir.ui.view">
        <field name="name">product.floor.tree</field>
        <field name="model">product.floor</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="location_id"/>
            </tree>
        </field>
    </record>
    <record id="view_floor_form" model="ir.ui.view">
        <field name="name">product.floor.form</field>
        <field name="model">product.floor</field>
        <field name="arch" type="xml">
            <form string="Floor">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="location_id"/>
                    </group>
                    <notebook>
                        <page string="Racks">
                            <field name="rack_ids" widget="one2many" context="{'default_floor_id': active_id}">
                                <tree>
                                    <field name="name"/>
                                    <field name="floor_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <record id="action_product_floor" model="ir.actions.act_window">
        <field name="name">Floors</field>
        <field name="res_model">product.floor</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_floor_tree"/>
    </record>
    <menuitem id="menu_product_floors" name="Floors" parent="menu_product_management" sequence="2" action="action_product_floor"/>

    <!-- Rack View -->
    <record id="view_rack_tree" model="ir.ui.view">
        <field name="name">product.rack.tree</field>
        <field name="model">product.rack</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="floor_id"/>
            </tree>
        </field>
    </record>
    <record id="view_rack_form" model="ir.ui.view">
        <field name="name">product.rack.form</field>
        <field name="model">product.rack</field>
        <field name="arch" type="xml">
            <form string="Rack">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="floor_id"/>
                    </group>
                    <notebook>
                        <page string="Rows">
                            <field name="row_ids" widget="one2many" context="{'default_rack_id': active_id}">
                                <tree>
                                    <field name="name"/>
                                    <field name="rack_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <record id="action_product_rack" model="ir.actions.act_window">
        <field name="name">Racks</field>
        <field name="res_model">product.rack</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_rack_tree"/>
    </record>
    <menuitem id="menu_product_rack" name="Racks" parent="menu_product_management" sequence="3" action="action_product_rack"/>

    <!-- Row View -->
    <record id="view_row_tree" model="ir.ui.view">
        <field name="name">product.row.tree</field>
        <field name="model">product.row</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="rack_id"/>
            </tree>
        </field>
    </record>
    <record id="view_row_form" model="ir.ui.view">
        <field name="name">product.row.form</field>
        <field name="model">product.row</field>
        <field name="arch" type="xml">
            <form string="Row">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="rack_id"/>
                    </group>
                    <notebook>
                        <page string="Pallets">
                            <field name="pallet_ids" widget="one2many" context="{'default_row_id': active_id}">
                                <tree>
                                    <field name="name"/>
                                    <field name="row_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <record id="action_product_row" model="ir.actions.act_window">
        <field name="name">Rows</field>
        <field name="res_model">product.row</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_row_tree"/>
    </record>
    <menuitem id="menu_product_rows" name="Rows" parent="menu_product_management" sequence="4" action="action_product_row"/>

    <!-- Pallet View -->
    <record id="view_pallet_tree" model="ir.ui.view">
        <field name="name">product.pallet.tree</field>
        <field name="model">product.pallet</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="row_id"/>
            </tree>
        </field>
    </record>
    <record id="view_pallet_form" model="ir.ui.view">
        <field name="name">product.pallet.form</field>
        <field name="model">product.pallet</field>
        <field name="arch" type="xml">
            <form string="Pallet">
                <sheet>
                    <group>
                        <field name="name"/>
                        <field name="row_id"/>
                    </group>
                    <notebook>
                        <page string="Products">
                            <field name="product_ids" widget="one2many" context="{'default_pallet_id': active_id}">
                                <tree>
                                    <field name="name"/>
                                    <field name="code"/>
                                    <field name="pallet_id"/>
                                </tree>
                            </field>
                        </page>
                    </notebook>
                </sheet>
            </form>
        </field>
    </record>
    <record id="action_product_pallet" model="ir.actions.act_window">
        <field name="name">Pallets</field>
        <field name="res_model">product.pallet</field>
        <field name="view_mode">tree,form</field>
        <field name="view_id" ref="view_pallet_tree"/>
    </record>
    <menuitem id="menu_product_pallets" name="Pallets" parent="menu_product_management" sequence="5" action="action_product_pallet"/>
</odoo>
